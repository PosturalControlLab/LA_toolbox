function make_pdf(varargin)% function make_pdf(h,filename,orientation)%% h:    figure handle% filename: without filetype specifier% orientation: optional 'h' generates landscape orientation; default is% portraith= varargin{1};filename = varargin{2};if nargin < 3    orientation = 'portrait';    papersize=[21 29.7]; %Set the PaperSize propertyelse    if strcmp(varargin{3},'h')        orientation = 'landscape';        papersize=[29.7 21]; %Set the PaperSize property    else        orientation = 'portrait';        papersize=[21 29.7]; %Set the PaperSize property    endendset(gcf,'PaperUnits','centimeters') % Start by setting PaperUnits to inchesleft = 0;  % Calculate a left margin that centers the figure horizontally on the paperbottom = 0; % Calculate a bottom margin that centers the figure vertically on the paperfigure_width = papersize(1) - 2*left;              % Initialize a variable for figure's width.figure_height = papersize(2) - 2*bottom;          % Initialize a varible for figure's height.myfiguresize = [left, bottom, figure_width, figure_height];set(h, 'PaperPosition', myfiguresize,...         'PaperOrientation',orientation,...         'PaperType','a4'); % Set the figure size     pause(0.5) % pause for 0.5s, otherwise new figure size is sometimes not saved yet.     print(h,filename,'-dpdf','-r0')